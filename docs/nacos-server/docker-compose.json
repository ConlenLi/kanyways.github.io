{"version":"3.1","services":{"nginx-server":{"image":"nginx:latest","hostname":"nginx-server","container_name":"nginx-server","restart":"always","volumes":["/data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf:ro","/data/nginx/logs:/var/log/nginx","/data/nginx/sites:/etc/nginx/conf.d:ro","/data/nginx/ssl:/etc/nginx/ssl:ro","/data/nginx/html:/usr/share/nginx/html:ro"],"ports":["80:80","443:443"],"networks":{"app":{"ipv4_address":"172.18.0.2"}}},"mariadb-server":{"image":"mariadb:latest","hostname":"mariadb-server","container_name":"mariadb-server","restart":"always","environment":["MYSQL_ROOT_PASSWORD:cruelm00n"],"volumes":["/data/mariadb/conf:/etc/mysql/conf.d:ro","/data/mariadb/logs:/var/log/mysql","/data/mariadb/data:/var/lib/mysql"],"ports":["3306:3306"],"depends_on":["nginx-server"],"networks":{"app":{"ipv4_address":"172.18.0.3"}}},"nacos-mater":{"image":"nacos:1.1.3","hostname":"nacos-mater","container_name":"nacos-mater","restart":"always","env_file":["./env/nacos-ip.env"],"volumes":["/data/nacos/cluster1/conf/cluster.conf:/usr/local/nacos/conf/cluster.conf","/data/nacos/cluster1/conf/application.properties:/usr/local/nacos/conf/application.properties:ro","/data/nacos/cluster1/logs:/usr/local/nacos/logs","/data/nacos/cluster1/data:/usr/local/nacos/data"],"ports":["8848:8848","9555:9555"],"depends_on":["mariadb-server"],"networks":{"app":{"ipv4_address":"172.18.0.4"}}},"nacos-slave":{"image":"nacos:1.1.3","hostname":"nacos-slave","container_name":"nacos-slave","restart":"always","env_file":["./env/nacos-ip.env"],"volumes":["/data/nacos/cluster2/conf/cluster.conf:/usr/local/nacos/conf/cluster.conf","/data/nacos/cluster2/conf/application.properties:/usr/local/nacos/conf/application.properties:ro","/data/nacos/cluster2/logs:/usr/local/nacos/logs","/data/nacos/cluster2/data:/usr/local/nacos/data"],"ports":["8849:8848"],"depends_on":["mariadb-server"],"networks":{"app":{"ipv4_address":"172.18.0.5"}}}},"networks":{"app":{"driver":"bridge","ipam":{"driver":"default","config":[{"subnet":"172.18.0.0/24"}]}}}}